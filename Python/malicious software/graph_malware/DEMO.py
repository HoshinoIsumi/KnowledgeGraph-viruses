from py2neo import Graph,Node,Relationship

graph = Graph("http://localhost:7687/", auth="neo4j", password="20040113Ming@", name="neo4j")
#初始化
graph.delete_all()
def creat_node():
    node_1 = Node("病毒", name="火焰病毒", describ = "利用微软公司Windows操作系统的两处瑕疵侵入电脑并注入其他程序。大约从2010年开始散播，其所包含的代码量约是之前发现的震网病毒（Stuxnet）或毒区病毒（Duqu）的20倍，被称为有史以来最复杂的恶意软件")
    node_2 = Node("别名", name="Flamer",)
    node_3 = Node("别名", name="SKywiper")
    node_4 = Node("编写环境", name="C++",)
    node_5 = Node("发现时间", name="2012年")
    node_6 = Node("传播地区", name="中东")
    node_7 = Node("病毒", name="震网", describ="世界上首个专门针对工业控制系统编写的破坏性病毒，能够利用对windows系统和西门子SIMATIC WinCC系统的7个漏洞进行攻击。特别是针对西门子公司的SIMATIC WinCC监控与数据采集 (SCADA) 系统进行攻击，" )
    node_8 = Node("别名", name="Stuxnet")
    node_9 = Node("别名", name="超级工厂病毒")
    noed_10 = Node("传播途径", name="U盘")
    node_11 = Node("造成事件", name="事件", describ="曾造成伊朗核电站推迟发电")
    node_12 = Node("发现时间", name="2010年")
    node_13 = Node("感染环境", name="Windows")
    graph.create(node_1)
    graph.create(node_2)
    graph.create((node_3))
    graph.create(node_4)
    graph.create(node_5)
    graph.create(node_6)
    graph.create(node_7)
    graph.create(node_8)
    graph.create(node_9)
    graph.create(noed_10)
    graph.create(node_11)
    return node_1, node_2, node_3, node_4, node_5, node_6, node_7, node_8, node_9, noed_10, node_11, node_12, node_13


def creat_relation():
    node_1, node_2, node_3 , node_4, node_5, node_6, node_7, node_8, node_9, noed_10, node_11, node_12, node_13 = creat_node()
    rel_1 = Relationship(node_1, "又叫", node_2)
    rel_2 = Relationship(node_1, "又叫", node_3)
    rel_3 = Relationship(node_1, "编写环境", node_4)
    rel_4 = Relationship(node_1, "发现时间", node_5)
    rel_5 = Relationship(node_1, "发现地区", node_6)
    rel_6 = Relationship(node_1, "代码量大20倍", node_7)
    rel_7 = Relationship(node_7, "又叫", node_8)
    rel_8 = Relationship(node_7, "又叫", node_9)
    rel_9 = Relationship(node_7, "传播途径", noed_10)
    rel_10 = Relationship(node_7, "造成", node_11)
    rel_11 = Relationship(node_7, "发现时间", node_12)
    rel_12 = Relationship(node_7, "感染环境", node_13)

    graph.create(rel_1)
    graph.create(rel_2)
    graph.create(rel_3)
    graph.create(rel_4)
    graph.create(rel_5)
    graph.create(rel_6)
    graph.create(rel_7)
    graph.create(rel_8)
    graph.create(rel_9)
    graph.create(rel_10)
    graph.create(rel_11)
    graph.create(rel_12)








creat_relation()